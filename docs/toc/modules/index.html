<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Modules. # Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.
Importing. # Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like math and test. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Modules"><meta property="og:description" content="Modules. # Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.
Importing. # Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like math and test. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory."><meta property="og:type" content="article"><meta property="og:url" content="https://fubark.github.io/cyber/docs/toc/modules/"><meta property="article:section" content="docs"><title>Modules | Cyber Docs v0.2</title>
<link rel=manifest href=/cyber/manifest.json><link rel=icon href=/cyber/favicon.png><link rel=stylesheet href=/cyber/book.min.4f0117e74e5337280f18eb9641eae520cb4b25adcf5dd64fafad4664145a5957.css integrity="sha256-TwEX505TNygPGOuWQerlIMtLJa3PXdZPr61GZBRaWVc=" crossorigin=anonymous><script defer src=/cyber/flexsearch.min.js></script><script defer src=/cyber/en.search.min.c97b7e9d6d7ecdde305d5ebc7d07e2caf6b0d6e43c2fd47e02abf0ada4934c54.js integrity="sha256-yXt+nW1+zd4wXV68fQfiyvaw1uQ8L9R+AqvwraSTTFQ=" crossorigin=anonymous></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=/cyber/hljs.min.css><link rel=stylesheet href=/cyber/style.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/cyber/><span>Cyber Docs v0.2</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://cyberscript.dev target=_blank rel=noopener>Homepage</a></li><li><a href=https://cyberscript.dev/play.html target=_blank rel=noopener>Playground</a></li></ul><ul><li class=book-section-flat><span>Table of Contents</span><ul><li><a href=/cyber/docs/toc/syntax/>Syntax</a></li><li><a href=/cyber/docs/toc/data-types/>Data Types</a></li><li><a href=/cyber/docs/toc/control-flow/>Control Flow</a></li><li><a href=/cyber/docs/toc/functions/>Functions</a></li><li><a href=/cyber/docs/toc/modules/ class=active>Modules</a></li><li><a href=/cyber/docs/toc/ffi/>FFI</a></li><li><a href=/cyber/docs/toc/errors/>Error Handling</a></li><li><a href=/cyber/docs/toc/concurrency/>Concurrency</a></li><li><a href=/cyber/docs/toc/type-system/>Type System</a></li><li><a href=/cyber/docs/toc/metaprogramming/>Metaprogramming</a></li><li><a href=/cyber/docs/toc/embedding/>Embedding</a></li><li><a href=/cyber/docs/toc/memory/>Memory</a></li><li><a href=/cyber/docs/toc/aot-jit/>AOT/JIT</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/cyber/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Modules</strong>
<label for=toc-control><img src=/cyber/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#importing>Importing.</a></li><li><a href=#exporting>Exporting.</a></li><li><a href=#module-uri>Module URI.</a></li><li><a href=#visibility>Visibility.</a></li><li><a href=#builtin-modules>Builtin Modules.</a></li><li><a href=#builtins>builtins.</a><ul><li><a href=#type-boolean><code>type boolean</code></a></li><li><a href=#type-error><code>type error</code></a></li><li><a href=#type-int><code>type int</code></a></li><li><a href=#type-float><code>type float</code></a></li><li><a href=#type-list><code>type List</code></a></li><li><a href=#type-listiterator><code>type ListIterator</code></a></li><li><a href=#type-map><code>type Map</code></a></li><li><a href=#type-mapiterator><code>type MapIterator</code></a></li><li><a href=#type-pointer><code>type pointer</code></a></li></ul></li><li><a href=#math>math.</a></li><li><a href=#std-modules>Std Modules.</a></li><li><a href=#os>os.</a><ul><li><a href=#type-file><code>type File</code></a></li><li><a href=#type-dir><code>type Dir</code></a></li><li><a href=#type-diriterator><code>type DirIterator</code></a></li><li><a href=#map-direntry><code>map DirEntry</code></a></li><li><a href=#map-dirwalkentry><code>map DirWalkEntry</code></a></li><li><a href=#map-argoption><code>map ArgOption</code></a></li></ul></li><li><a href=#test>test.</a></li></ul></nav></aside></header><article class=markdown><h1 id=modules>Modules.
<a class=anchor href=#modules>#</a></h1><p>Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.</p><h2 id=importing>Importing.
<a class=anchor href=#importing>#</a></h2><p>Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like <code>math</code> and <code>test</code>. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory. An embedder can integrate their own module loader and resolver.</p><pre tabindex=0><code class=language-cy data-lang=cy>import test
test.eq(123, 123)

-- Imports are static declarations so they can be anywhere in the script.
import math
print math.cos(0)
</code></pre><p>When the alias needs to be renamed, the import specifier comes after the alias name and must be a string literal.</p><pre tabindex=0><code class=language-cy data-lang=cy>import m &#39;math&#39;
print m.random()

-- Loading a Cyber module from the local directory.
import foo &#39;bar.cy&#39;
print foo.myFunc()
print foo.myVar
</code></pre><p>A Cyber script that is imported doesn&rsquo;t evaluate its main block. Only static declarations are effectively loaded. If there is code in the main block, it will skip evaluation. In the following, only the <code>print</code> statement in the <code>main.cy</code> is evaluated.</p><pre tabindex=0><code class=language-cy data-lang=cy>-- main.cy
import a &#39;foo.cy&#39;
print a.foo

-- foo.cy
import &#39;bar.cy&#39;
var Root.foo = 123
print foo         -- Statement is ignored.

-- bar.cy
var Root.bar = 321
print bar         -- Statement is ignored.
</code></pre><p>You can have circular imports in Cyber. In the following example, <code>main.cy</code> and <code>foo.cy</code> import each other without any problems.</p><pre tabindex=0><code class=language-cy data-lang=cy>-- main.cy
import foo &#39;foo.cy&#39;

func printB():
    foo.printC()

foo.printA()

-- foo.cy
import main &#39;main.cy&#39;

func printA():
    main.printB()

func printC():
    print &#39;done&#39;
</code></pre><p>Static variable declarations from imports can have circular references. Read more about this in <a href=/cyber/docs/toc/syntax/#static-variables>Static Variables</a>.</p><p>Modules can also be destructured using the following syntax:</p><blockquote><p><em>Planned Feature</em></p></blockquote><pre tabindex=0><code class=language-cy data-lang=cy>import { cos, pi } &#39;math&#39;
print cos(pi)
</code></pre><h2 id=exporting>Exporting.
<a class=anchor href=#exporting>#</a></h2><p>All static declarations are exported when the script&rsquo;s module is loaded.</p><pre tabindex=0><code class=language-cy data-lang=cy>func foo():         -- Exported static function.
    print 123

var Root.bar = 234  -- Exported static variable.

type Thing object:  -- Exported type.
    var a float
</code></pre><h2 id=module-uri>Module URI.
<a class=anchor href=#module-uri>#</a></h2><p>To get the absolute path of the current module, reference the compile-time variable <code>ModUri</code>.
This can be used with <code>os.dirName</code> to get the current module directory.</p><pre tabindex=0><code class=language-cy data-lang=cy>print #ModUri              -- Prints &#39;/some/path/foo.cy&#39;

import os
print os.dirName(#ModUri)  -- Prints &#39;/some/path&#39;
</code></pre><h2 id=visibility>Visibility.
<a class=anchor href=#visibility>#</a></h2><p>The annotation <code>@hide</code> provides a hint to editors that a static symbol should not appear in the auto-complete. Despite this, the symbol is still reachable.</p><h2 id=builtin-modules>Builtin Modules.
<a class=anchor href=#builtin-modules>#</a></h2><p>Builtin modules are the bare minimum that comes with Cyber. The <a href=/cyber/docs/toc/embedding/>embeddable library</a> contains these modules and nothing more. They include:</p><ul><li><a href=#builtins>builtins</a>: Cyber related functions and commonly used utilities.</li><li><a href=#math>math</a>: Math constants and functions.</li></ul><h2 id=builtins>builtins.
<a class=anchor href=#builtins>#</a></h2><p>The <code>builtins</code> module contains functions related to Cyber and common utilities. It is automatically imported into each script&rsquo;s namespace.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>-- `print` and `typeof` are available without imports.
print &#39;hello&#39;
print typeof(&#39;my str&#39;).id()
</code></pre><blockquote><p><code>func arrayFill(val any, n int) List</code><br>Creates a list with initial capacity of <code>n</code> and values set to <code>val</code>. If the value is an object, it is shallow copied <code>n</code> times.</p></blockquote><blockquote><p><code>func copy(val any) any</code><br>Copies a primitive value or creates a shallow copy of an object value.</p></blockquote><blockquote><p><code>func dump(val any) string</code><br>Prints the result of <code>toCyon</code> on a value.</p></blockquote><blockquote><p><code>func errorReport() string</code></p></blockquote><blockquote><p><code>func isAlpha(val int) boolean</code><br>Returns whether a rune is an alphabetic letter.</p></blockquote><blockquote><p><code>func isDigit(val int) boolean</code><br>Returns whether a rune is a digit.</p></blockquote><blockquote><p><code>func must(val any) any</code><br>If <code>val</code> is an error, <code>panic(val)</code> is invoked. Otherwise, <code>val</code> is returned.</p></blockquote><blockquote><p><code>func panic(err any) none</code><br>Stop execution in the current fiber and starts unwinding the call stack. See <a href=/cyber/docs/toc/errors/#unexpected-errors>Unexpected Errors</a>.</p></blockquote><blockquote><p><code>func parseCyber(src any) Map</code><br>Parses Cyber source string into structured map object. Currently, only metadata about static declarations is made available but this will be extended to include an AST.</p></blockquote><blockquote><p><code>func parseCyon(src any) any</code><br>Parses a CYON string into a value.</p></blockquote><blockquote><p><code>func performGC() Map</code><br>Runs the garbage collector once to detect reference cycles and abandoned objects. Returns the statistics of the run in a map value.</p></blockquote><blockquote><p><code>func print(str any) none</code><br>Prints a value. The host determines how it is printed.</p></blockquote><blockquote><p><code>func runestr(val int) string</code><br>Converts a rune to a string.</p></blockquote><blockquote><p><code>func toCyon(val any) string</code><br>Encodes a value to CYON string.</p></blockquote><blockquote><p><code>func typeof(val any) metatype</code><br>Returns the value&rsquo;s type as a <code>metatype</code> object.</p></blockquote><blockquote><p><code>func typesym(val any) symbol</code><br>Returns the value&rsquo;s type as one of the predefined symbols: .float, .int, .boolean, .object, .list, .map, .string, .rawstring, .function, .fiber, .pointer, .symbol, .metatype, .none, .error</p></blockquote><h3 id=type-boolean><code>type boolean</code>
<a class=anchor href=#type-boolean>#</a></h3><blockquote><p><code>func $call(val any) boolean</code><br>Converts a value to either <code>true</code> or <code>false</code>.</p></blockquote><h3 id=type-error><code>type error</code>
<a class=anchor href=#type-error>#</a></h3><blockquote><p><code>func $call(val any) error</code><br>Create an error from an enum or symbol.</p></blockquote><blockquote><p><code>func value(self any) any</code></p></blockquote><h3 id=type-int><code>type int</code>
<a class=anchor href=#type-int>#</a></h3><blockquote><p><code>func $call(val any) int</code><br>Converts a value to an 48-bit integer.</p></blockquote><blockquote><p><code>func $prefix~(self any) int</code></p></blockquote><blockquote><p><code>func $prefix-(self any) int</code></p></blockquote><blockquote><p><code>func $infix&lt;(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix&lt;=(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix>(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix>=(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix+(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix-(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix*(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix/(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix%(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix^(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix&(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix|(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix||(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix&lt;&lt;(self any, o any) int</code></p></blockquote><blockquote><p><code>func $infix>>(self any, o any) int</code></p></blockquote><h3 id=type-float><code>type float</code>
<a class=anchor href=#type-float>#</a></h3><blockquote><p><code>func $call(val any) float</code><br>Converts the value to a <code>float</code>. Panics if type conversion fails.</p></blockquote><blockquote><p><code>func $prefix-(self any) float</code></p></blockquote><blockquote><p><code>func $infix&lt;(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix&lt;=(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix>(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix>=(self any, o any) boolean</code></p></blockquote><blockquote><p><code>func $infix+(self any, o any) float</code></p></blockquote><blockquote><p><code>func $infix-(self any, o any) float</code></p></blockquote><blockquote><p><code>func $infix*(self any, o any) float</code></p></blockquote><blockquote><p><code>func $infix/(self any, o any) float</code></p></blockquote><blockquote><p><code>func $infix%(self any, o any) float</code></p></blockquote><blockquote><p><code>func $infix^(self any, o any) float</code></p></blockquote><h3 id=type-list><code>type List</code>
<a class=anchor href=#type-list>#</a></h3><blockquote><p><code>func $index(self any, idx any) any</code></p></blockquote><blockquote><p><code>func $setIndex(self any, idx any, val any) none</code></p></blockquote><blockquote><p><code>func add(self any, val any) none</code></p></blockquote><blockquote><p><code>func append(self any, val any) none</code><br>Appends a value to the end of the list.</p></blockquote><blockquote><p><code>func concat(self any, list List) none</code><br>Concats the elements of another list to the end of this list.</p></blockquote><blockquote><p><code>func insert(self any, idx int, val any) any</code><br>Inserts a value at index <code>idx</code>.</p></blockquote><blockquote><p><code>func iterator(self any) any</code><br>Returns a new iterator over the list elements.</p></blockquote><blockquote><p><code>func joinString(self any, sep any) string</code><br>Returns a new string that joins the elements with <code>separator</code>.</p></blockquote><blockquote><p><code>func len(self any) int</code><br>Returns the number of elements in the list.</p></blockquote><blockquote><p><code>func seqIterator(self any) any</code><br>Returns a new sequence iterator over the list elements.</p></blockquote><blockquote><p><code>func remove(self any, idx int) any</code><br>Removes an element at index <code>idx</code>.</p></blockquote><blockquote><p><code>func resize(self any, size int) any</code><br>Resizes the list to <code>len</code> elements. If the new size is bigger, <code>none</code> values are appended to the list. If the new size is smaller, elements at the end of the list are removed.</p></blockquote><blockquote><p><code>func sort(self any, lessFn any) any</code><br>Sorts the list with the given <code>less</code> function. If element <code>a</code> should be ordered before <code>b</code>, the function should return <code>true</code> otherwise <code>false</code>.</p></blockquote><h3 id=type-listiterator><code>type ListIterator</code>
<a class=anchor href=#type-listiterator>#</a></h3><blockquote><p><code>func next(self any) any</code></p></blockquote><blockquote><p><code>func nextSeq(self any) any</code></p></blockquote><h3 id=type-map><code>type Map</code>
<a class=anchor href=#type-map>#</a></h3><blockquote><p><code>func $index(self any, key any) any</code></p></blockquote><blockquote><p><code>func $setIndex(self any, key any, val any) none</code></p></blockquote><blockquote><p><code>func remove(self any, key any) none</code><br>Removes the element with the given key <code>key</code>.</p></blockquote><blockquote><p><code>func size(self any) int</code><br>Returns the number of key-value pairs in the map.</p></blockquote><blockquote><p><code>func iterator(self any) any</code><br>Returns a new iterator over the map elements.</p></blockquote><blockquote><p><code>func seqIterator(self any) any</code><br>Returns a new sequence iterator over the map elements.</p></blockquote><h3 id=type-mapiterator><code>type MapIterator</code>
<a class=anchor href=#type-mapiterator>#</a></h3><blockquote><p><code>func next(self any) any</code></p></blockquote><blockquote><p><code>func nextSeq(self any) any</code></p></blockquote><h3 id=type-pointer><code>type pointer</code>
<a class=anchor href=#type-pointer>#</a></h3><blockquote><p><code>func $call(val any) pointer</code><br>Converts a <code>int</code> to a <code>pointer</code> value, or casts to a <code>pointer</code>. This is usually used with FFI.</p></blockquote><blockquote><p><code>func value(self any) int</code><br>Returns the memory address as an <code>int</code>. The value may be negative since it&rsquo;s bitcasted from an unsigned 48-bit integer but it retains the original pointer bits.</p></blockquote><h2 id=math>math.
<a class=anchor href=#math>#</a></h2><p>The math module contains commonly used math constants and functions.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import math

var r = 10
print(math.pi * r^2)
</code></pre><blockquote><p><code>var e float</code><br>Euler&rsquo;s number and the base of natural logarithms; approximately 2.718.</p></blockquote><blockquote><p><code>var inf float</code><br>Infinity.</p></blockquote><blockquote><p><code>var log10e float</code><br>Base-10 logarithm of E; approximately 0.434.</p></blockquote><blockquote><p><code>var log2e float</code><br>Base-2 logarithm of E; approximately 1.443.</p></blockquote><blockquote><p><code>var ln10 float</code><br>Natural logarithm of 10; approximately 2.303.</p></blockquote><blockquote><p><code>var ln2 float</code><br>Natural logarithm of 2; approximately 0.693.</p></blockquote><blockquote><p><code>var maxSafeInt float</code><br>The maximum integer value that can be safely represented as a float. 2^53-1 or 9007199254740991.</p></blockquote><blockquote><p><code>var minSafeInt float</code><br>The minumum integer value that can be safely represented as a float. -(2^53-1) or -9007199254740991.</p></blockquote><blockquote><p><code>var nan float</code><br>Not a number. Note that nan == nan. However, if a nan came from an arithmetic operation, the comparison is undefined. Use <code>isNaN</code> instead.</p></blockquote><blockquote><p><code>var neginf float</code><br>Negative infinity.</p></blockquote><blockquote><p><code>var pi float</code><br>Ratio of a circle&rsquo;s circumference to its diameter; approximately 3.14159.</p></blockquote><blockquote><p><code>var sqrt1_2 float</code><br>Square root of ½; approximately 0.707.</p></blockquote><blockquote><p><code>var sqrt2 float</code><br>Square root of 2; approximately 1.414.</p></blockquote><blockquote><p><code>func abs(a float) float</code><br>Returns the absolute value of x.</p></blockquote><blockquote><p><code>func acos(a float) float</code><br>Returns the arccosine of x.</p></blockquote><blockquote><p><code>func acosh(a float) float</code><br>Returns the hyperbolic arccosine of x.</p></blockquote><blockquote><p><code>func asin(a float) float</code><br>Returns the arcsine of x.</p></blockquote><blockquote><p><code>func asinh(a float) float</code><br>Returns the hyperbolic arcsine of a number.</p></blockquote><blockquote><p><code>func atan(a float) float</code><br>Returns the arctangent of x.</p></blockquote><blockquote><p><code>func atan2(a float, b float) float</code><br>Returns the arctangent of the quotient of its arguments.</p></blockquote><blockquote><p><code>func atanh(a float) float</code><br>Returns the hyperbolic arctangent of x.</p></blockquote><blockquote><p><code>func cbrt(a float) float</code><br>Returns the cube root of x.</p></blockquote><blockquote><p><code>func ceil(a float) float</code><br>Returns the smallest integer greater than or equal to x.</p></blockquote><blockquote><p><code>func clz32(a float) float</code><br>Returns the number of leading zero bits of the 32-bit integer x.</p></blockquote><blockquote><p><code>func cos(a float) float</code><br>Returns the cosine of x.</p></blockquote><blockquote><p><code>func cosh(a float) float</code><br>Returns the hyperbolic cosine of x.</p></blockquote><blockquote><p><code>func exp(a float) float</code><br>Returns e^x, where x is the argument, and e is Euler&rsquo;s number (2.718…, the base of the natural logarithm).</p></blockquote><blockquote><p><code>func expm1(a float) float</code><br>Returns subtracting 1 from exp(x).</p></blockquote><blockquote><p><code>func floor(a float) float</code><br>Returns the largest integer less than or equal to x.</p></blockquote><blockquote><p><code>func frac(a float) float</code><br>Returns the fractional or decimal part of a float value.</p></blockquote><blockquote><p><code>func hypot(a float, b float) float</code><br>Returns the square root of the sum of squares of its arguments.</p></blockquote><blockquote><p><code>func isInt(a float) boolean</code><br>Returns true if the float has no fractional part, otherwise false.</p></blockquote><blockquote><p><code>func isNaN(a float) boolean</code><br>Returns whether x is not a number.</p></blockquote><blockquote><p><code>func ln(a float) float</code><br>Returns the natural logarithm (㏒e; also, ㏑) of x.</p></blockquote><blockquote><p><code>func log(a float, b float) float</code><br>Returns the logarithm of y with base x.</p></blockquote><blockquote><p><code>func log10(a float) float</code><br>Returns the base-10 logarithm of x.</p></blockquote><blockquote><p><code>func log1p(a float) float</code><br>Returns the natural logarithm (㏒e; also ㏑) of 1 + x for the number x.</p></blockquote><blockquote><p><code>func log2(a float) float</code><br>Returns the base-2 logarithm of x.</p></blockquote><blockquote><p><code>func max(a float, b float) float</code><br>Returns the largest of two numbers.</p></blockquote><blockquote><p><code>func min(a float, b float) float</code><br>Returns the smallest of two numbers.</p></blockquote><blockquote><p><code>func mul32(a float, b float) float</code><br>Returns the result of the 32-bit integer multiplication of x and y. Integer overflow is allowed.</p></blockquote><blockquote><p><code>func pow(a float, b float) float</code><br>Returns base x to the exponent power y (that is, x^y).</p></blockquote><blockquote><p><code>func random() float</code><br>Returns a pseudo-random number between 0 and 1.</p></blockquote><blockquote><p><code>func round(a float) float</code><br>Returns the value of the number x rounded to the nearest integer.</p></blockquote><blockquote><p><code>func sign(a float) float</code><br>Returns the sign of the x, indicating whether x is positive, negative, or zero.</p></blockquote><blockquote><p><code>func sin(a float) float</code><br>Returns the sine of x.</p></blockquote><blockquote><p><code>func sinh(a float) float</code><br>Returns the hyperbolic sine of x.</p></blockquote><blockquote><p><code>func sqrt(a float) float</code><br>Returns the positive square root of x.</p></blockquote><blockquote><p><code>func tan(a float) float</code><br>Returns the tangent of x.</p></blockquote><blockquote><p><code>func tanh(a float) float</code><br>Returns the hyperbolic tangent of x.</p></blockquote><blockquote><p><code>func trunc(a float) float</code><br>Returns the integer portion of x, removing any fractional digits.</p></blockquote><h2 id=std-modules>Std Modules.
<a class=anchor href=#std-modules>#</a></h2><p>Std modules come with Cyber&rsquo;s CLI. They include:</p><ul><li><a href=#os>os</a>: System level functions.</li><li><a href=#test>test</a>: Utilities for testing.</li></ul><h2 id=os>os.
<a class=anchor href=#os>#</a></h2><p>Cyber&rsquo;s os module contains system level functions. It&rsquo;s still undecided as to how much should be included here so it&rsquo;s incomplete. You can still access os and libc functions yourself using Cyber&rsquo;s FFI or embedding API.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import os

var map = os.getEnvAll()
for map each [k, v]:
    print &#39;{k} -&gt; {v}&#39;
</code></pre><blockquote><p><code>var cpu string</code><br>The current cpu arch&rsquo;s tag name.</p></blockquote><blockquote><p><code>var endian symbol</code><br>The current arch&rsquo;s endianness: .little, .big</p></blockquote><blockquote><p><code>var stderr any</code><br>Standard error file descriptor.</p></blockquote><blockquote><p><code>var stdin any</code><br>Standard input file descriptor.</p></blockquote><blockquote><p><code>var stdout any</code><br>Standard output file descriptor.</p></blockquote><blockquote><p><code>var system string</code><br>The current operating system&rsquo;s tag name.</p></blockquote><blockquote><p><code>var vecBitSize int</code><br>Default SIMD vector bit size.</p></blockquote><blockquote><p><code>func access(path any, mode symbol) any</code><br>Attempts to access a file at the given <code>path</code> with the <code>.read</code>, <code>.write</code>, or <code>.readWrite</code> mode. Return true or an error.</p></blockquote><blockquote><p><code>func args() List</code><br>Returns the command line arguments as a list. Each argument is validated and returned as a UTF-8 <code>string</code> or <code>rawstring</code> if the validation failed.</p></blockquote><blockquote><p><code>func bindLib(path any, decls List) any</code><br>Calls <code>bindLib(path, decls, {})</code>.</p></blockquote><blockquote><p><code>func bindLib(path any, decls List, config Map) any</code><br>Creates an FFI binding to a dynamic library and it&rsquo;s symbols. By default, an anonymous object is returned with the C-functions binded as the object&rsquo;s methods. If <code>config</code> contains <code>genMap: true</code>, a <code>Map</code> is returned instead with C-functions binded as function values.</p></blockquote><blockquote><p><code>func cacheUrl(url any) any</code><br>Returns the path of a locally cached file of <code>url</code>. If no such file exists locally, it&rsquo;s fetched from <code>url</code>.</p></blockquote><blockquote><p><code>func copyFile(srcPath any, dstPath any) any</code><br>Copies a file to a destination path.</p></blockquote><blockquote><p><code>func createDir(path any) any</code><br>Creates the directory at <code>path</code>. Returns <code>true</code> if successful.</p></blockquote><blockquote><p><code>func createFile(path any, truncate boolean) any</code><br>Creates and opens the file at <code>path</code>. If <code>truncate</code> is true, an existing file will be truncated.</p></blockquote><blockquote><p><code>func cstr(s any) pointer</code><br>Returns a null terminated C string.</p></blockquote><blockquote><p><code>func cwd() string</code><br>Returns the current working directory.</p></blockquote><blockquote><p><code>func dirName(path any) any</code><br>Returns the given path with its last component removed.</p></blockquote><blockquote><p><code>func execCmd(args List) any</code><br>Runs a shell command and returns the stdout/stderr.</p></blockquote><blockquote><p><code>func exePath() string</code><br>Returns the current executable&rsquo;s path.</p></blockquote><blockquote><p><code>func exit(status int) none</code><br>Exits the program with a status code.</p></blockquote><blockquote><p><code>func fetchUrl(url any) any</code><br>Fetches the contents at <code>url</code> using the HTTP GET request method.</p></blockquote><blockquote><p><code>func free(ptr pointer) none</code><br>Frees the memory located at <code>ptr</code>.</p></blockquote><blockquote><p><code>func fromCstr(ptr pointer) rawstring</code><br>Returns a <code>rawstring</code> from a null terminated C string.</p></blockquote><blockquote><p><code>func getEnv(key any) any</code><br>Returns an environment value by key.</p></blockquote><blockquote><p><code>func getEnvAll() Map</code><br>Returns all environment entries as a <code>Map</code>.</p></blockquote><blockquote><p><code>func getInput() any</code><br>Reads stdin until a new line is reached. This is intended to read user input from the command line. For bulk reads from stdin, use <code>os.stdin</code>.</p></blockquote><blockquote><p><code>func malloc(size int) pointer</code><br>Allocates <code>size</code> bytes of memory and returns a pointer.</p></blockquote><blockquote><p><code>func milliTime() float</code><br>Return the calendar timestamp, in milliseconds, relative to UTC 1970-01-01.</p></blockquote><blockquote><p><code>func openDir(path any) any</code><br>Invokes <code>openDir(path, false)</code>.</p></blockquote><blockquote><p><code>func openDir(path any, iterable boolean) any</code><br>Opens a directory at the given <code>path</code>. <code>iterable</code> indicates that the directory&rsquo;s entries can be iterated.</p></blockquote><blockquote><p><code>func openFile(path any, mode symbol) any</code><br>Opens a file at the given <code>path</code> with the <code>.read</code>, <code>.write</code>, or <code>.readWrite</code> mode.</p></blockquote><blockquote><p><code>func parseArgs(options List) Map</code><br>Given expected <code>ArgOption</code>s, returns a map of the options and a <code>rest</code> entry which contains the non-option arguments. |</p></blockquote><blockquote><p><code>func readAll() any</code><br>Reads stdin to the EOF as a <code>rawstring</code>.</p></blockquote><blockquote><p><code>func readFile(path any) any</code><br>Reads the file contents into a <code>rawstring</code> value.</p></blockquote><blockquote><p><code>func readLine() any</code></p></blockquote><blockquote><p><code>func realPath(path any) any</code><br>Returns the absolute path of the given path.</p></blockquote><blockquote><p><code>func removeDir(path any) any</code><br>Removes an empty directory at <code>path</code>. Returns <code>true</code> if successful.</p></blockquote><blockquote><p><code>func removeFile(path any) any</code><br>Removes the file at <code>path</code>. Returns <code>true</code> if successful.</p></blockquote><blockquote><p><code>func setEnv(key any, val any) none</code><br>Sets an environment value by key.</p></blockquote><blockquote><p><code>func sleep(ms float) none</code><br>Pauses the current thread for given milliseconds.</p></blockquote><blockquote><p><code>func unsetEnv(key any) none</code><br>Removes an environment value by key.</p></blockquote><blockquote><p><code>func writeFile(path any, contents any) any</code><br>Writes a string value to a file.</p></blockquote><h3 id=type-file><code>type File</code>
<a class=anchor href=#type-file>#</a></h3><blockquote><p><code>func close(self any) none</code><br>Closes the file handle. File ops invoked afterwards will return <code>error.Closed</code>.</p></blockquote><blockquote><p><code>func iterator(self any) any</code></p></blockquote><blockquote><p><code>func next(self any) any</code></p></blockquote><blockquote><p><code>func read(self any, n int) any</code><br>Reads at most <code>n</code> bytes as a <code>rawstring</code>. <code>n</code> must be at least 1. A result with length 0 indicates the end of file was reached.</p></blockquote><blockquote><p><code>func readToEnd(self any) any</code><br>Reads to the end of the file and returns the content as a <code>rawstring</code>.</p></blockquote><blockquote><p><code>func seek(self any, n int) any</code><br>Seeks the read/write position to <code>pos</code> bytes from the start. Negative <code>pos</code> is invalid.</p></blockquote><blockquote><p><code>func seekFromCur(self any, n int) any</code><br>Seeks the read/write position by <code>pos</code> bytes from the current position.</p></blockquote><blockquote><p><code>func seekFromEnd(self any, n int) any</code><br>Seeks the read/write position by <code>pos</code> bytes from the end. Positive <code>pos</code> is invalid.</p></blockquote><blockquote><p><code>func stat(self any) any</code><br>Returns info about the file as a <code>Map</code>.</p></blockquote><blockquote><p><code>func streamLines(self any) any</code><br>Equivalent to <code>streamLines(4096)</code>.</p></blockquote><blockquote><p><code>func streamLines(self any, bufSize int) any</code><br>Returns an iterable that streams lines ending in <code>\n</code>, <code>\r</code>, <code>\r\n</code>, or the <code>EOF</code>. The lines returned include the new line character(s). A buffer size of <code>bufSize</code> bytes is allocated for reading. If <code>\r</code> is found at the end of the read buffer, the line is returned instead of waiting to see if the next read has a connecting <code>\n</code>.</p></blockquote><blockquote><p><code>func write(self any, val any) any</code><br>Writes a <code>string</code> or <code>rawstring</code> at the current file position. The number of bytes written is returned.</p></blockquote><h3 id=type-dir><code>type Dir</code>
<a class=anchor href=#type-dir>#</a></h3><blockquote><p><code>func iterator(self any) any</code><br>Returns a new iterator over the directory entries. If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</p></blockquote><blockquote><p><code>func stat(self any) any</code><br>Returns info about the file as a <code>Map</code>.</p></blockquote><blockquote><p><code>func walk(self any) any</code><br>Returns a new iterator over the directory recursive entries. If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</p></blockquote><h3 id=type-diriterator><code>type DirIterator</code>
<a class=anchor href=#type-diriterator>#</a></h3><blockquote><p><code>func next(self any) any</code></p></blockquote><h3 id=map-direntry><code>map DirEntry</code>
<a class=anchor href=#map-direntry>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> rawstring</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><h3 id=map-dirwalkentry><code>map DirWalkEntry</code>
<a class=anchor href=#map-dirwalkentry>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> rawstring</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'path' -> rawstring</code></td><td>The path of the file or directory relative to the walker&rsquo;s root directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><h3 id=map-argoption><code>map ArgOption</code>
<a class=anchor href=#map-argoption>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> string</code></td><td>The name of the option to match excluding the hyphen prefix. eg. <code>-path</code></td></tr><tr><td><code>'type' -> metatype(string | float | boolean)</code></td><td>Parse as given value type.</td></tr><tr><td><code>'default' -> any</code></td><td>Optional: Default value if option is missing. <code>none</code> is used if this is not provided.</td></tr></tbody></table><h2 id=test>test.
<a class=anchor href=#test>#</a></h2><p>The <code>test</code> module contains utilities for testing.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import t &#39;test&#39;

var a = 123 + 321
t.eq(a, 444)
</code></pre><blockquote><p><code>func eq(a any, b any) any</code><br>Returns whether two values are equal. Panics with <code>error.AssertError</code> if types or values do not match up.</p></blockquote><blockquote><p><code>func eqList(a any, b any) any</code><br>Returns true if two lists have the same size and the elements are equal as if <code>eq</code> was called on those corresponding elements.</p></blockquote><blockquote><p><code>func eqNear(a any, b any) any</code><br>Returns two numbers are near each other within epsilon 1e-5.</p></blockquote><blockquote><p><code>func fail() any</code></p></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/fubark/cyber/edit/master/docs/hugo/content/docs/toc/modules.md target=_blank rel=noopener><img src=/cyber/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#importing>Importing.</a></li><li><a href=#exporting>Exporting.</a></li><li><a href=#module-uri>Module URI.</a></li><li><a href=#visibility>Visibility.</a></li><li><a href=#builtin-modules>Builtin Modules.</a></li><li><a href=#builtins>builtins.</a><ul><li><a href=#type-boolean><code>type boolean</code></a></li><li><a href=#type-error><code>type error</code></a></li><li><a href=#type-int><code>type int</code></a></li><li><a href=#type-float><code>type float</code></a></li><li><a href=#type-list><code>type List</code></a></li><li><a href=#type-listiterator><code>type ListIterator</code></a></li><li><a href=#type-map><code>type Map</code></a></li><li><a href=#type-mapiterator><code>type MapIterator</code></a></li><li><a href=#type-pointer><code>type pointer</code></a></li></ul></li><li><a href=#math>math.</a></li><li><a href=#std-modules>Std Modules.</a></li><li><a href=#os>os.</a><ul><li><a href=#type-file><code>type File</code></a></li><li><a href=#type-dir><code>type Dir</code></a></li><li><a href=#type-diriterator><code>type DirIterator</code></a></li><li><a href=#map-direntry><code>map DirEntry</code></a></li><li><a href=#map-dirwalkentry><code>map DirWalkEntry</code></a></li><li><a href=#map-argoption><code>map ArgOption</code></a></li></ul></li><li><a href=#test>test.</a></li></ul></nav></div></aside></main><script src=/cyber/highlight.min.js></script><script>hljs.registerLanguage("cy",function(){return{keywords:{keyword:["func","import","for","coinit","coresume","coyield","return","if","else","as","while","var","my","object","with","caught","break","continue","switch","pass","or","and","not","is","error","throws","true","false","none","throw","try","catch","recover","enum","type","case"],type:["float","string","bool","any","int","List","Map","rawstring","symbol","pointer","dynamic"]},contains:[{scope:"string",begin:"'",end:"'"},{scope:"symbol",begin:"#",end:/\w(?=[^\w])/},hljs.COMMENT("--",`
`,{contains:[]}),hljs.C_NUMBER_MODE]}}),hljs.highlightAll()</script></body></html>